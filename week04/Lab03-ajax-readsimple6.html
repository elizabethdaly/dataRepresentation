<!-- WK4 Data Rapresentation Lab03 -->
<html>
    <head>
        <!-- <scriptÂ src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> -->
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.1.min.js"></script>
        <title>WK4 Lab03</title>
    </head>
    <body>
        <button id='doitButton', onclick="readJSON()">Do it</button> <!-- run fn on click-->
        <div id="price"></div>
        <script>
            function readJSON(){
                console.log("inside readJSON function")
                $.ajax({
                    "url": "https://api.coindesk.com/v1/bpi/currentprice.json",
                    "method": "GET",
                    "data": "",
                    "dataType": "JSON",
                    "success": function(result){
                        var rate1 = result.bpi.USD.rate; //dollar rate
                        console.log(rate1);
                        var rate2 = result.bpi.GBP.rate; //pound rate
                        console.log(rate2);

                        // print rate to page
                        document.getElementById('price').innerText = rate1;
                        //document.getElementById('price').innerText = rate2;
                    },
                    "error": function(xhr, status,error){
                        console.log("status:"+status+" message:"+error);
                    }
                    
                });
                
            }
               
        </script>
    </body>

</html>